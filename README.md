# 🌱 Mood2Idea

> 감정을 색으로 선명하게 고정하고,  
> 글·그림·음악이라는 3-way 표현 활동을 통해  
> 감정이 어떻게 변화하는지를 관찰하는 감정 기록 앱

<br>

## 📖 프로젝트 소개

**Mood2Idea**는 감정을 판단하거나 평가하지 않습니다.  
대신, 감정을 **색으로 고정**하고 **표현 활동**을 통해 자연스럽게 변화하는 과정을 기록합니다.

매일 느끼는 감정은 사진처럼 즉각적으로 기록하기 어렵습니다.  
어떤 날은 글보다 **그림**이 더 정확하고,  
어떤 날은 말 대신 **음악**이 감정을 대변합니다.

Mood2Idea는 이러한 다양한 표현 방식을 하나의 공간에 모아,  
**"같은 감정이 표현 방식에 따라 어떻게 달라졌는지"**를 한눈에 비교·관찰할 수 있게 합니다.

<br>

## ✨ 주요 기능

### 🎨 21가지 감정 색상
```
긍정 감정: 설렘, 즐거움, 평온, 뿌듯함, 감사함
복잡한 감정: 외로움, 서운함, 우울, 지침, 불안, 초조함, 서러움
강렬한 감정: 분노, 답답함, 혼란, 패닉
특수한 감정: 자괴감, 창피함, 질투, 그리움, 허무함
```

### 📝 3가지 표현 방식
- **글쓰기**: 감정을 글로 풀어내기
- **그림 그리기**: 이미지로 감정 표현 + DALL-E 생성
- **음악 듣기**: 감정에 맞는 음악 추천 (YouTube 링크)

### 🤖 AI 조력자
> AI는 감정의 주체가 아닌, **표현 활동을 촉진하는 조력자**입니다.

- **감정 판단/평가 금지**: "좋아졌네요" ❌ → "풀렸길 바래요" ✅
- **역할**: 표현 시작 돕기, 활동 지속 보조, 자연스러운 전개 지원
- **제한**: 세션당 최대 2회 상호작용 (과도한 개입 방지)

### 🎨 감정 색상 변화 시각화
```
처음 감정 (100%) → 표현 활동 → AI 대화 → 마지막 감정 (옅어짐)
```
- 표현 활동 1회: 20% 옅어짐
- AI 상호작용 1회: 15% 옅어짐
- 최대 80%까지 변화 (완전 흰색 방지)

### 📅 캘린더 뷰
- 날짜별 감정 색상 표시
- 하루에 여러 감정 기록 가능
- 클릭하면 상세 내역 확인

<br>

## 🏗️ 시스템 구조

### 전체 실행 흐름
```
1. 감정 색 선택 (기준점 설정)
2. 감정 한 줄 입력 (초기 상태 기록)
3. 표현 방식 선택 (글 / 그림 / 음악)
4. 표현 활동 수행
5. AI 개입 여부 선택
   ├─ 그대로 저장
   ├─ AI와 대화
   └─ AI와 디벨롭
6. 최종 색상 선택 (활동 후 감정)
7. 감정 기록 저장 + AI 마무리 한마디
```

### 핵심 모듈
```
📂 mood2idea/
├── 📄 app.py                  # Flask 메인 애플리케이션
├── 📂 core/
│   ├── color.py              # 색 변화 로직 + 감정 이름 매핑
│   ├── models.py             # 데이터 모델
│   ├── policy.py             # AI 사용 정책 (횟수 제한)
│   ├── storage_local.py      # JSONL 저장/읽기
│   └── ai_helper.py          # OpenAI API 통합
├── 📂 templates/
│   ├── index.html            # 메인 기록 화면
│   ├── landing.html          # 랜딩 페이지
│   ├── calendar.html         # 캘린더 뷰
│   └── calendar_date.html    # 날짜 상세
├── 📂 static/
│   ├── style.css             # 스타일 (애니메이션 포함)
│   ├── animation.js          # 입자 효과, 색 공 애니메이션
│   └── uploads/              # 업로드/생성 이미지
└── 📂 data/
    └── mood_log.jsonl        # 감정 기록 저장소
```

<br>

## 🛠️ 기술 스택

### Backend
- **Flask** - Python 웹 프레임워크
- **Python 3.8+** - 기본 런타임

### AI/LLM
- **OpenAI GPT-4o-mini** - 텍스트 대화 및 음악 추천
- **OpenAI GPT-4o** - 이미지 분석 (Vision)
- **DALL-E 3** - 그림 생성

### Frontend
- **Jinja2** - 템플릿 엔진
- **CSS3** - 애니메이션 (cubic-bezier, keyframes)
- **Vanilla JavaScript** - 입자 효과, 동적 UI

### Storage
- **JSONL** - 로컬 파일 기반 데이터베이스
- 1줄 = 1기록 (append-only)

<br>

## 🚀 시작하기

### 1. 저장소 클론
```bash
git clone https://github.com/yourusername/mood2idea.git
cd mood2idea
```

### 2. 가상환경 생성 및 활성화
```bash
python -m venv .venv

# Windows
.venv\Scripts\activate

# macOS/Linux
source .venv/bin/activate
```

### 3. 의존성 설치
```bash
pip install -r requirements.txt
```

### 4. OpenAI API 키 설정
```bash
# .env 파일 생성
echo "OPENAI_API_KEY=your-api-key-here" > .env
```

### 5. 실행
```bash
python app.py
```

브라우저에서 `http://127.0.0.1:5000` 접속!

<br>

## 🎨 디자인 철학

### 색상 중심 설계
- **감정 = 색상**: 21가지 감정을 고유한 색상으로 표현
- **변화 시각화**: 진한 색 → 옅은 색으로 감정 변화 표현
- **판단 없음**: "좋아짐/나빠짐"이 아닌 "변화" 관찰

### AI의 역할
> "AI는 감정을 바꾸지 않지만,  
> AI와 함께한 표현 활동은 감정 변화의 원인이 된다."

- **조력자**: 표현 활동 시작/지속 보조
- **비판단**: 감정 해석/평가 금지
- **제한**: 과도한 개입 방지 (최대 2회)

### 표현 방식별 특징
| 방식 | AI 역할 | 특징 |
|------|---------|------|
| 📝 **글쓰기** | 흐름 유지, 다음 문장 제안 | 대화 또는 직접 개선 선택 |
| 🎨 **그림** | 의도 확인, 방향 제안, DALL-E 생성 | Vision API로 이미지 분석 |
| 🎵 **음악** | 감정 공명 음악 추천 (YouTube) | 자동 추천 (선택 불필요) |

<br>

## 📊 결과 해석

Mood2Idea의 결과는 **"감정이 좋아졌는지"**를 판단하는 데 있지 않습니다.

### 사용자가 관찰할 수 있는 것
- ✅ 어떤 표현 활동에서 감정 변화가 크게 나타나는지
- ✅ 어떤 표현 방식이 자신에게 가장 적합한지
- ✅ 감정이 이동하고 정리되는 과정의 차이

### 최종 색상 선택의 의미
```
Step 6: 활동 후 감정 색상 선택

┌─────────────────────────────────┐
│ 100%  75%  50%  25%  0%         │
│  🔴   🟠   🟡   🟢   ⚪         │
│ (진함)              (옅음)      │
└─────────────────────────────────┘

사용자가 직접 선택: "내가 느끼는 변화는?"
```

<br>

## 🌟 주요 특징

### 1. 단계별 안내
- 명확한 흐름: 색 선택 → 표현 → AI → 저장
- 중간 저장 없음: 완료 시에만 저장
- 뒤로 가기 가능

### 2. 애니메이션 & UX
- ✨ 입자 효과: 색 선택 시 입자가 흩어졌다 모이며 캘린더로 이동
- 🌙 둥둥 떠오르는 달: 랜딩 페이지 애니메이션
- 🎨 부드러운 전환: cubic-bezier 타이밍 함수
- 📱 반응형 디자인: 모바일/데스크톱 대응

### 3. 대화 맥락 유지
- 이전 AI 대화 내역 표시
- 맥락을 보며 추가 질문 가능
- 자연스러운 대화 흐름

### 4. 감정 기록 보존
- JSONL 형식: 1줄 = 1기록
- 내구성: 깨진 줄이 있어도 나머지 읽기 가능
- 타임스탬프: 정확한 시간 기록

<br>

## 📁 데이터 구조

### mood_log.jsonl 예시
```json
{
  "date_time": "2026-02-02T18:39:27",
  "mood_color": "grateful",
  "mood_text": "모든 것에 감사합니다.",
  "mode": "write",
  "text_content": "이렇게 쉽게 프로그램 짜고 만들 수 있어서 너무 감사합니다",
  "background": "프로그램 짜면서",
  "ai_response": "그렇게 느끼셨군요...",
  "ai_used": true,
  "initial_color": "grateful",
  "final_color": "#ffdab9",
  "color_intensity": 0.0,
  "expression_done": true,
  "ai_interaction_count": 2
}
```

<br>

## 🔮 향후 개선 방향

- [ ] **프롬프트 고도화**: 모드별 AI 역할 세분화
- [ ] **캘린더 확장**: 월간/연간 감정 흐름 통계
- [ ] **감정 분석**: 시간대별/요일별 패턴 분석
- [ ] **공유 기능**: 익명 감정 공유 커뮤니티
- [ ] **음성 입력**: 음성으로 감정 기록
- [ ] **다크 모드**: 야간 사용을 위한 테마

<br>

## 🤝 기여하기

이 프로젝트는 감정 기록의 새로운 방식을 탐구합니다.  
아이디어, 버그 리포트, PR은 언제나 환영합니다!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

<br>

## 📄 라이선스

이 프로젝트는 개인 학습 및 연구 목적으로 제작되었습니다.

<br>

## 💬 연락처

프로젝트에 대한 질문이나 제안이 있으시면 언제든 연락주세요!

---

<div align="center">

**🌱 Mood2Idea** - 감정을 색과 표현으로 기록하는 공간

Made with 💜 by [Your Name]

</div>
